<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us</title>
    <link rel="icon" href="./img/favicon.ico" type="image/x-icon">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./styles/styles.css">

    <!-- Google Font Hahmlet -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hahmlet:wght@400..900&display=swap" rel="stylesheet">

    <!-- Owl Carousel CSS -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
</head>

<body>
    <div id="navbar-container"></div>

    <section id="main-banner-section">
        <img src="./img/banner.jpg" class="img-fluid w-100">
        <h1 class="text-uppercase text-white fw-bold banner-text text-center">CONTACT US</h1>
    </section>

    <section id="our-process">
        <div class="container common-section-padding">
            <div class="col-md-12">
                <h6 class="sub-heading fw-bold">Contact Us</h6>
                <h5 class="main-heading">Get in Touch with Us Today</h5>
            </div>
            <div class="row mt-5">
                <div class="col-md-4 mb-3 h-100">
                    <div class="text-center">
                        <img src="./img/contact-phone.png"
                            class="img-fluid contact-card p-5 border-top-left border-bottom-right" />
                        <h6 class="sub-heading fw-bold mt-3">+94 412 283 654</h6>
                    </div>
                </div>
                <div class="col-md-4 mb-3 h-100">
                    <div class="text-center">
                        <img src="./img/contact-email.png"
                            class="img-fluid contact-card w-50 p-5 border-top-left border-bottom-right" />
                        <h6 class="sub-heading fw-bold mt-3">uruwalatea@gmail.com</h6>
                    </div>
                </div>
                <div class="col-md-4 mb-3 h-100">
                    <div class="text-center">
                        <img src="./img/contact-location.png"
                            class="img-fluid contact-card p-5 border-top-left border-bottom-right" />
                        <h6 class="sub-heading fw-bold mt-3">Uruwala Tea Estate, Akuressa, 10450 Sri Lanka.</h6>
                    </div>
                </div>
            </div>
            <p class="mt-5">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has
                been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of
                type and scrambled it to make a type specimen book. It has survived not only five centuries, but also
                the leap into electronic typesetting, remaining.</p>

            <div class="form-area mt-5">
                <form id="contact-form">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <input type="text" placeholder="First Name*" class="form-control" name="first-name" id="first-name" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <input type="text" placeholder="Second Name*" class="form-control" name="second-name" id="second-name" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <input type="number" inputmode="numeric" min="0" placeholder="Mobile Number*" class="form-control" name="mobile" id="mobile" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <input type="email" placeholder="Email Address*" class="form-control" name="email" id="email" required>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="mb-3">
                                <textarea placeholder="Write a Message*" class="form-control" name="message" id="message" style="height: 150px;" required></textarea>
                            </div>
                            <div class="g-recaptcha" data-sitekey="6LexrSAqAAAAAP3P5-OxuqxybksvUzGd2YmJFyaT" data-callback="enableButton"></div>
                        </div>

                        <div class="col-md-12 mt-3">
                            <div class="mb-3 text-center">
                                <button type="submit" id="contact-us-btn" class="btn btn-success contact-btn px-5" disabled>
                                    <span id="button-text">CONTACT US</span>
                                    <span id="button-spinner" class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                                </button>
                            </div>
                        </div>
                        <div id="alert-container"></div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <div class="container pb-5">
        <div id="map" ></div>
    </div>

    <!-- Bootstrap CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>

    <!-- Owl Carousel -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

    <!-- Google Map -->
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBKaoRX2GDbYCNX1DGC90KIswiwuZw5fpA&callback=initMap">
        </script>

    <!-- reCAPTCHA API -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    <!-- Custom JS -->
    <script src="./js/main.js"></script>

    <!-- Email JS -->
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>

    <script>
        window.onload = initMap;

        function enableButton() {
            document.getElementById('contact-us-btn').disabled = false;
        }

        emailjs.init("JNgWuF2jIUJ3KdSkm"); 

        function sendEmail(event) {
            event.preventDefault();
            const submitButton = document.getElementById('contact-us-btn');
            const buttonSpinner = document.getElementById('button-spinner');
            const buttonText = document.getElementById('button-text');
            
            submitButton.disabled = true;
            buttonSpinner.classList.remove('d-none');
            buttonText.classList.add('d-none');

            emailjs.sendForm('service_uh78t1p', 'template_2gtnxzr', '#contact-form')
                .then((response) => {
                    buttonSpinner.classList.add('d-none');
                    buttonText.classList.remove('d-none');
                    submitButton.disabled = false;
                    displaySuccessAlert();
                })
                .catch((error) => {
                    alert('Failed to send email.');
                    console.error('Error:', error);
                });
        }

        function displaySuccessAlert() {
            const alertContainer = document.getElementById('alert-container');
            alertContainer.innerHTML = `
                <div class="alert alert-success" role="alert">
                    <h6 class="alert-heading">Thank you for contact us!</h6>
                    <p>Thank you for contacting us. Someone from our team will contact you as soon as possible.</p>
                </div>
            `;
        }

        document.getElementById('contact-form').addEventListener('submit', sendEmail);
    </script>
</body>

</html>
